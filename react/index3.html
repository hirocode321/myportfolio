import { useEffect } from "react";
import AOS from "aos";
import "aos/dist/aos.css";
import "tailwindcss/tailwind.css";

export default function Portfolio() {
  useEffect(() => {
    AOS.init({ once: true });
    if (localStorage.getItem("darkMode") === "true") {
      document.body.classList.add("dark-mode");
    }
  }, []);

  const toggleDarkMode = () => {
    document.body.classList.toggle("dark-mode");
    localStorage.setItem("darkMode", document.body.classList.contains("dark-mode"));
  };

  return (
    <div className="font-sans bg-gray-100 text-gray-900 dark-mode:text-gray-100 dark-mode:bg-gray-900 transition-colors duration-300">
      <nav className="fixed top-0 w-full bg-gray-800 text-white z-50 shadow">
        <div className="container mx-auto flex justify-between items-center p-4">
          <h1 className="font-bold text-lg">Hiro Sekioka</h1>
          <div className="space-x-4 hidden md:flex">
            <a href="#about">About</a>
            <a href="#works">Works</a>
            <a href="#gallery">Photography</a>
            <a href="#skills">Skills</a>
            <a href="#timeline">Timeline</a>
            <a href="#contact">Contact</a>
            <button onClick={toggleDarkMode} className="ml-4 border px-2 py-1 rounded">🌓</button>
          </div>
        </div>
      </nav>

      <section className="h-screen flex flex-col justify-center items-center bg-gradient-to-r from-[#0f2027] via-[#203a43] to-[#2c5364] text-white text-center">
        <h1 data-aos="fade-down" className="text-5xl font-bold mb-4">Hiro Sekioka</h1>
        <p data-aos="fade-up" data-aos-delay="200" className="text-xl mb-6">
          星と共に歩んだ日々から、コードの世界へ。<br className="hidden md:block" />創造の軸は変わらない。
        </p>
        <a href="#about" className="border border-white px-6 py-2 rounded hover:bg-white hover:text-black transition" data-aos="zoom-in" data-aos-delay="400">私について知る</a>
      </section>

      <section id="about" className="py-20 bg-white text-black" data-aos="fade-up">
        <div className="container mx-auto max-w-3xl px-4">
          <h2 className="text-center text-3xl font-semibold mb-8">About Me</h2>
          <p className="mb-4">関西学院大学経済学部を2018年に卒業後、自動車部品メーカーにて生産管理業務に従事。社会人としての基礎を学びつつ、現場改善や工程設計に携わる中で、論理的思考とプロジェクト管理能力を培いました。</p>
          <p className="mb-4">2021年よりフリーランスフォトグラファーとして独立。全国を巡りながら星景写真や風景写真を専門に撮影。公官庁や大手企業とコラボしながら、広告写真や講演活動も行ってきました。また、作品の販売・出版も行い、Sonyの公式セミナー講師としても登壇しています。</p>
          <p className="mb-4">写真家として培った「構図力」「観察力」「表現力」を活かし、現在はエンジニアへの転身を目指し学習を進めています。FlaskやPythonを用いたWebアプリ開発を得意とし、特に天体撮影支援アプリなどニッチな分野での開発実績があります。</p>
          <p className="text-gray-500">※現在、写真家としてのポートフォリオサイトは準備中です。</p>
        </div>
      </section>

      <section id="works" className="py-20 bg-gray-100" data-aos="fade-up">
        <div className="container mx-auto px-4">
          <h2 className="text-center text-3xl font-semibold mb-12">Projects</h2>
          <div className="grid md:grid-cols-3 gap-6">
            <div className="bg-white rounded shadow hover:shadow-lg transition-transform transform hover:-translate-y-1">
              <img src="project1.jpg" alt="月齢計算アプリのサムネイル" className="rounded-t w-full h-48 object-cover" />
              <div className="p-4">
                <h5 className="text-xl font-semibold mb-2">Lunar Phase Calendar</h5>
                <p className="text-sm text-gray-600">Flask製の月齢計算アプリ。Antaresと月の位置関係をSkyfieldとNumPyで計算、撮影のタイミングを支援します。</p>
              </div>
              <div className="p-4 border-t">
                <a href="https://github.com/hirography321/project1" target="_blank" className="text-blue-600 hover:underline">View Code</a>
              </div>
            </div>
          </div>
        </div>
      </section>

      <section id="gallery" className="py-20 bg-white" data-aos="fade-up">
        <div className="container mx-auto px-4">
          <h2 className="text-center text-3xl font-semibold mb-12">Photography</h2>
          <div className="grid md:grid-cols-3 gap-6">
            <img src="photo1.jpg" alt="富士山と天の川の星景写真" className="rounded shadow" />
            <img src="photo2.jpg" alt="流星群の夜景写真" className="rounded shadow" />
            <img src="photo3.jpg" alt="雷と星空のコラボ写真" className="rounded shadow" />
          </div>
        </div>
      </section>

      <section id="skills" className="py-20 bg-gray-100" data-aos="fade-up">
        <div className="container mx-auto px-4">
          <h2 className="text-center text-3xl font-semibold mb-12">Skills</h2>
          <div className="grid md:grid-cols-2 gap-6">
            <div>
              <SkillBar label="HTML/CSS" value={90} color="bg-red-500" />
              <SkillBar label="JavaScript" value={70} color="bg-blue-400" />
              <SkillBar label="Python" value={85} color="bg-blue-600" />
              <SkillBar label="Flask" value={80} color="bg-green-500" />
            </div>
            <div>
              <SkillBar label="Git/GitHub" value={80} color="bg-gray-500" />
              <SkillBar label="Bootstrap" value={85} color="bg-yellow-400" />
              <SkillBar label="Skyfield/NumPy" value={70} color="bg-black" />
              <SkillBar label="Lightroom/Photoshop" value={95} color="bg-black" />
            </div>
          </div>
        </div>
      </section>

      <section id="timeline" className="py-20 bg-white" data-aos="fade-up">
        <div className="container mx-auto px-4 max-w-2xl">
          <h2 className="text-center text-3xl font-semibold mb-12">Timeline</h2>
          <ul className="space-y-6">
            <li className="border-l-4 pl-4 border-blue-600">2018: Astrophotographyを開始</li>
            <li className="border-l-4 pl-4 border-blue-600">2020: 写真集を出版・国際賞を受賞</li>
            <li className="border-l-4 pl-4 border-blue-600">2023: PythonでWeb開発を学習</li>
            <li className="border-l-4 pl-4 border-blue-600">2024: Flaskで天体アプリを制作・公開</li>
            <li className="border-l-4 pl-4 border-blue-600">2025: エンジニアとして転職活動中</li>
          </ul>
        </div>
      </section>

      <section id="contact" className="py-20 bg-gray-100" data-aos="fade-up">
        <div className="container mx-auto px-4 max-w-2xl">
          <h2 className="text-center text-3xl font-semibold mb-12">Contact</h2>
          <form method="POST" action="https://formspree.io/f/xxxxxxx" className="space-y-6">
            <div>
              <label htmlFor="name" className="block text-sm font-medium">お名前</label>
              <input type="text" id="name" name="name" required className="w-full border px-4 py-2 rounded" />
            </div>
            <div>
              <label htmlFor="email" className="block text-sm font-medium">メールアドレス</label>
              <input type="email" id="email" name="_replyto" required className="w-full border px-4 py-2 rounded" />
            </div>
            <div>
              <label htmlFor="message" className="block text-sm font-medium">お問い合わせ内容</label>
              <textarea id="message" name="message" rows={5} required className="w-full border px-4 py-2 rounded"></textarea>
            </div>
            <div className="text-center">
              <button type="submit" className="bg-blue-600 text-white px-6 py-2 rounded hover:bg-blue-700">送信</button>
            </div>
          </form>
        </div>
      </section>
    </div>
  );
}

function SkillBar({ label, value, color }) {
  return (
    <div className="mb-4">
      <label className="block text-sm font-medium mb-1">{label}</label>
      <div className="w-full bg-gray-300 rounded">
        <div className={`h-4 rounded ${color}`} style={{ width: `${value}%` }}></div>
      </div>
    </div>
  );
}